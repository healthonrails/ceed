CEED Config
===========

The following are the configuration options provided by the app. It can be configured by changing appropriate values in the ``config.yaml`` file. The options default to the default value in the classes configurable by these options.

`inspect`: False
 Enables GUI inspection. If True, it is activated by hitting ctrl-e in
 the GUI.


view
----

`LED_mode`: "RGB"
 The LED mode the projector is set to during the experiment.
 Its value is from the :attr:`led_modes`.

`LED_mode_idle`: "RGB"
 The LED mode the projector is set to before/after the experiment.
 Its value is from the :attr:`led_modes`.

`cam_transform`: ((1.0, 0.0, 0.0, 0.0), (0.0, 1.0, 0.0, 0.0), (0.0, 0.0, 1.0, 0.0), (0.0, 0.0, 0.0, 1.0))

`flip_camera`: False

`flip_projector`: True

`frame_rate`: 120.0
 The frame rate at which the data is played. This should match the
 currently selected monitor's refresh rate.

`fullscreen`: True
 Whether the second window should run in fullscreen mode. In fullscreen
 mode the window has no borders.

`mea_diameter`: 3

`mea_num_cols`: 12

`mea_num_rows`: 12

`mea_pitch`: 20

`mea_transform`: ((1.0, 0.0, 0.0, 0.0), (0.0, 1.0, 0.0, 0.0), (0.0, 0.0, 1.0, 0.0), (0.0, 0.0, 0.0, 1.0))

`mirror_mea`: True

`output_count`: True
 Whether the corner pixel is used to output frame information on the
 PROPixx controller IO pot. If True,
 :class:`ceed.storage.controller.DataSerializerBase` is used to set the 24
 bits of the corner pixel.

`pad_to_stage_handshake`: True

`screen_height`: 1080
 The screen height on which the data is played. This is the full-screen
 size.

`screen_offset_x`: 0
 When there are multiple monitors, the window on which the data is played
 is controlled by the position of the screen. E.g. to set it on the right
 screen of two screens, each 1920 pixel wide and with the main screen being
 on the left. Then the :attr:`screen_offset_x` should be set to ``1920``.

`screen_width`: 1920
 The screen width on which the data is played. This is the full-screen
 size.

`use_software_frame_rate`: False
 Depending on the GPU, the software is unable to render faster than the
 GPU refresh rate. In that case, :attr:`frame_rate`, should match the value
 that the GPU is playing at and this should be False.
 If the GPU isn't forcing a frame rate. Then this should be True and
 :attr:`frame_rate` should be the desired frame rate.
 One can tell whether the GPU is forcing a frame rate by setting
 :attr:`frame_rate` to a large value and setting
 :attr:`use_software_frame_rate` to False and seeing what the resultant
 frame rate is. If it isn't capped at some value, e.g. 120Hz, it means that
 the GPU isn't forcing it.

`video_mode`: "RGB"
 The current video mode from the :attr:`video_modes`.


serializer
----------

`clock_idx`: 2

`count_indices`: [19, 20]

`counter_bit_width`: 32

`projector_to_aquisition_map`: {2: 0, 3: 1, 4: 2, 10: 3, 11: 4, 12: 5, 18: 6, 19: 7, 20: 8}

`short_count_indices`: [3, 4, 10, 11, 12, 18]


player
------

`player_name`: "ffmpeg"


video_recorder
``````````````

`estimate_record_rate`: False
 Whether to use :attr:`cpl_media.player.BasePlayer.real_rate` for the
 recorder frame rate, as opposed to the one initially provided by the
 player.

`metadata_record`: None
 (internal) Describes the video metadata of the recorder. This is
 the requested format, or best guess of the metadata.
 Read only.

`record_directory`: "/home/runner"
 The directory into which videos should be saved.

`record_fname`: "video{}.mkv"
 The filename to be used to record the next video.
 If ``{}`` is present in the filename, it'll be replaced with the value of
 :attr:`record_fname_count` which auto increments after every video, when
 used.

`record_fname_count`: 0
 A counter that auto increments by one after every recorded video.
 Used to give unique filenames for each video file. See
 :attr:`record_fname`.


thor
````

`binning_x`: 0
 The x binning value to use.

`binning_x_range`: [0, 0]
 The supported exposure range.

`binning_y`: 0
 The y binning value to use.

`binning_y_range`: [0, 0]
 The supported exposure range.

`black_level`: 0
 The black level value to use.

`black_level_range`: [0, 100]
 The supported exposure range.

`color_gain`: [1, 1, 1]
 The color gain for each red, green, and blue channel.

`exposure_ms`: 0
 The exposure value in ms to use.

`exposure_range`: [0, 100]
 The supported exposure range in ms.

`frame_queue_size`: 1
 The max number of image frames to be allowed on the camera's hardware
 queue. Once exceeded, the frames are dropped.

`freq`: "20 MHz"
 The frequency to use.

`gain`: 0
 The gain value to use.

`gain_range`: [0, 100]
 The supported exposure range.

`metadata_play`: None
 (internal) Describes the video metadata of the video player. This is
 the requested format, or best guess of the metadata.
 Read only.

`metadata_play_used`: None
 (internal) Describes the video metadata of the video player that is
 actually used by the player. This must be set before recorders may allow
 recording the player.
 Depending on the metadata needed by the recorder, it may refuse to
 record until the needed metadata is given.
 Read only.

`num_queued_frames`: 0
 The number of image frames currently on the camera's hardware queue.

`roi_height`: 0
 The height after the y start position of the ROI in pixels, to use.

`roi_width`: 0
 The width after the x start position of the ROI in pixels, to use.

`roi_x`: 0
 The x start position of the ROI in pixels.

`roi_y`: 0
 The y start position of the ROI in pixels.

`sensor_size`: [0, 0]
 The size of the sensor in pixels.

`serial`: ""
 The serial number of the camera that will be opened.

`serials`: []
 The list of serial numbers representing the cameras available.

`supported_freqs`: ['20 MHz']
 The supported frequencies.

`supported_taps`: ['1']
 The supported taps.

`supported_triggers`: ['SW Trigger', 'HW Trigger']
 The trigger types supported by the camera.

`supports_color`: False
 Whether the camera supports color.

`taps`: "1"
 The tap to use.

`trigger_count`: 0
 The number of frames to capture in response to the trigger.

`trigger_type`: "SW Trigger"
 The trigger type of the camera to use.


ptgray
``````

`brightness`: {}
 The camera options for the brightness setting.
 This may only be set by calling :meth:`ask_cam_option_config`, not
 set directly.

`cam_config_opts`: {}
 The configuration options used to configure the camera after opening.
 This are internal and can only be set by the internal thread once
 initially set by config.

`exposure`: {}
 The camera options for the exposure setting.
 This may only be set by calling :meth:`ask_cam_option_config`, not
 set directly.

`frame_rate`: {}
 The camera options for the frame_rate setting.
 This may only be set by calling :meth:`ask_cam_option_config`, not
 set directly.

`gain`: {}
 The camera options for the gain setting.
 This may only be set by calling :meth:`ask_cam_option_config`, not
 set directly.

`gamma`: {}
 The camera options for the gamma setting.
 This may only be set by calling :meth:`ask_cam_option_config`, not
 set directly.

`hue`: {}
 The camera options for the hue setting.
 This may only be set by calling :meth:`ask_cam_option_config`, not
 set directly.

`ip`: ""
 The IP address of the camera to open. Either :attr:`ip` or
 :attr:`serial` must be provided.

`iris`: {}
 The camera options for the iris setting.
 This may only be set by calling :meth:`ask_cam_option_config`, not
 set directly.

`metadata_play`: None
 (internal) Describes the video metadata of the video player. This is
 the requested format, or best guess of the metadata.
 Read only.

`metadata_play_used`: None
 (internal) Describes the video metadata of the video player that is
 actually used by the player. This must be set before recorders may allow
 recording the player.
 Depending on the metadata needed by the recorder, it may refuse to
 record until the needed metadata is given.
 Read only.

`mirror`: False
 Whether the camera is mirrored. Read only.

`pan`: {}
 The camera options for the pan setting.
 This may only be set by calling :meth:`ask_cam_option_config`, not
 set directly.

`saturation`: {}
 The camera options for the saturation setting.
 This may only be set by calling :meth:`ask_cam_option_config`, not
 set directly.

`serial`: 0
 The serial number of the camera to open. Either :attr:`ip` or
 :attr:`serial` must be provided.

`sharpness`: {}
 The camera options for the sharpness setting.
 This may only be set by calling :meth:`ask_cam_option_config`, not
 set directly.

`shutter`: {}
 The camera options for the shutter setting.
 This may only be set by calling :meth:`ask_cam_option_config`, not
 set directly.

`tilt`: {}
 The camera options for the tilt setting.
 This may only be set by calling :meth:`ask_cam_option_config`, not
 set directly.


network_client
``````````````

`metadata_play`: None
 (internal) Describes the video metadata of the video player. This is
 the requested format, or best guess of the metadata.
 Read only.

`metadata_play_used`: None
 (internal) Describes the video metadata of the video player that is
 actually used by the player. This must be set before recorders may allow
 recording the player.
 Depending on the metadata needed by the recorder, it may refuse to
 record until the needed metadata is given.
 Read only.

`port`: 0
 The server port that broadcasts the data.

`server`: ""
 The server address that broadcasts the data.

`timeout`: 0.01
 How long to wait before timing out when reading data before checking the
 queue for other requests.


image_file_recorder
```````````````````

`compression`: "raw"
 Whether to compress when :attr:`extension` is `tiff`. Can be one of
 ``'raw', 'lzw', 'zip'``.

`extension`: "tiff"
 The extension of the images being saved.

`metadata_record`: None
 (internal) Describes the video metadata of the recorder. This is
 the requested format, or best guess of the metadata.
 Read only.

`record_directory`: "/home/runner"
 The directory into which videos should be saved.

`record_prefix`: "image_"
 The prefix to the filename of the images being saved.


ffmpeg
``````

`dshow_filename`: ""
 The name of the dshow camera to open.

`dshow_opt`: ""
 The camera options associated with :attr:`dshow_true_filename` when
 dshow is used.

`dshow_rate`: 0
 The frame rate to request from the dshow camera.

`dshow_true_filename`: ""
 The real and complete filename of the direct show (webcam) device.

`file_fmt`: ""
 The format used to play the video. Can be empty or a format e.g.
 ``mjpeg`` for webcams.

`icodec`: ""
 The codec used to open the video stream with if it needs to be
 specified for the camera.

`metadata_play`: None
 (internal) Describes the video metadata of the video player. This is
 the requested format, or best guess of the metadata.
 Read only.

`metadata_play_used`: None
 (internal) Describes the video metadata of the video player that is
 actually used by the player. This must be set before recorders may allow
 recording the player.
 Depending on the metadata needed by the recorder, it may refuse to
 record until the needed metadata is given.
 Read only.

`play_filename`: ""
 The filename of the media being played. Can be e.g. a filename etc.

`use_dshow`: True
 Whether we use dshow - i.e. USB webcams, or normal media sources.


function
--------


data
----

`backup_interval`: 5.0

`compression`: "Auto"

`root_path`: ""

